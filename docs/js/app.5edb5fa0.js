(function(t){function e(e){for(var i,r,a=e[0],c=e[1],l=e[2],m=0,d=[];m<a.length;m++)r=a[m],o[r]&&d.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0826":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"app"}},[n("div",{staticClass:"list"},[t._m(0),n("CreateToDoItem",{attrs:{listData:t.list}}),n("ToDoList",{attrs:{listData:t.list,changeItem:t.changeNowItem}})],1),n("div",{staticClass:"detail"},[n("Timer",{attrs:{time:t.nowItemInfo.remaining_time,isStart:t.isTimerStart,start:t.timerStart,pause:t.timerPause,stepBackward:t.timerStepBackward}}),n("div",{staticClass:"detail__title"},[t._v(t._s(t.nowItemInfo.work_title))]),n("div",{staticClass:"detail__content"},[t._v(t._s(t.nowItemInfo.work_content))])],1),t.isTimerStart?t._e():n("div",{staticClass:"item-button"},[t.nowItemInfo.is_done?n("div",{staticClass:"item-button__done",on:{click:function(e){return t.restartToDoItem()}}},[n("font-awesome-icon",{staticClass:"item-button__done-icon",attrs:{icon:"power-off"}}),t._v("Restart")],1):n("div",{staticClass:"item-button__done",on:{click:function(e){return t.doneToDoItem()}}},[n("font-awesome-icon",{staticClass:"item-button__done-icon",attrs:{icon:"check"}}),t._v("Done")],1),n("div",{staticClass:"item-button__delete",on:{click:function(e){return t.deleteToDoItem()}}},[n("font-awesome-icon",{staticClass:"item-button__delete-icon",attrs:{icon:"trash"}}),t._v("Delete")],1)])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user"},[n("img"),n("span",[t._v("user ID")])])}],r=(n("c5f6"),n("ac6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.work_title,expression:"inputData.work_title"}],staticClass:"create_text",attrs:{type:"text"},domProps:{value:t.inputData.work_title},on:{input:function(e){e.target.composing||t.$set(t.inputData,"work_title",e.target.value)}}}),n("button",{staticClass:"create_button",attrs:{type:"submit"},on:{click:function(e){return t.createItem()}}},[n("font-awesome-icon",{staticClass:"create_plusIcon",attrs:{icon:"plus"}})],1)])}),a=[],c=n("cebc"),l=n("bc3a"),u=n.n(l),m={work_id:"",work_title:"",work_content:"",remaining_time:30,order:"",status:!0,user_id:"",user_name:"",user_password:"",user_Identity:""},d={name:"CreateToDoItem",data:function(){return{inputData:Object(c["a"])({},m)}},props:{listData:{type:Array}},mounted:function(){},methods:{createItem:function(){var t=this;this.inputData.work_id=this.listData.length+1,this.inputData.order=this.listData.length+1,console.log("create",this.inputData);var e="https://script.google.com/macros/s/AKfycby19dIv0Dq8KeeJQNPxWAAfcBEMZymvcOMNFh5W_5xG4v27hdIs/exec";u.a.get(e,Object(c["a"])({},this.inputData)).then(function(e){console.log(e),t.inputData=Object(c["a"])({},m)}).catch(function(e){console.log(e),t.listData.push(Object(c["a"])({},t.inputData)),t.inputData=Object(c["a"])({},m)})}}},_=d,f=(n("7e81"),n("2877")),p=Object(f["a"])(_,r,a,!1,null,"691584a1",null),h=p.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"list_title"},[t._v("To Do")]),n("draggable",{staticClass:"to-do-list",attrs:{group:"todolist",move:t.checkMove},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.listData,callback:function(e){t.listData=e},expression:"listData"}},t._l(t.listData,function(e,i){return e.is_done?t._e():n("div",{key:i,class:{"to-do-list__item--foucs":t.nowNumber===e.work_id,"to-do-list__item":!0},on:{click:function(n){return t.clickItem(e.work_id)}}},[n("div",[n("font-awesome-icon",{staticClass:"to-do-list__item-dragIcon",attrs:{icon:"ellipsis-v"}}),n("span",{staticClass:"to-do-list__title"},[t._v(t._s(e.work_title))])],1),n("font-awesome-icon",{staticClass:"to-do-list__item-playIcon",attrs:{icon:"play"}})],1)}),0),n("div",{staticClass:"list_title"},[t._v("Done")]),n("div",{staticClass:"to-do-list"},t._l(t.listData,function(e,i){return e.is_done?n("div",{key:i,class:{"to-do-list__done-item--foucs":t.nowNumber===e.work_id,"to-do-list__done-item":!0},on:{click:function(n){return t.clickItem(e.work_id)}}},[n("div",[n("font-awesome-icon",{staticClass:"to-do-list__item-dragIcon",attrs:{icon:"ellipsis-v"}}),n("span",{staticClass:"to-do-list__done-title"},[t._v(t._s(e.work_title))])],1)]):t._e()}),0)],1)},v=[],I=n("310e"),g=n.n(I),b={name:"ToDoList",components:{draggable:g.a},data:function(){return{list:[],nowNumber:0}},props:{listData:{type:Array,required:!0},changeItem:{type:Function,required:!0}},created:function(){},computed:{},methods:{checkMove:function(){this.listData.map(function(t,e){t.order=e})},clickItem:function(t,e){this.nowNumber=t,this.changeItem(t)}}},k=b,D=(n("bfa5"),Object(f["a"])(k,w,v,!1,null,"22a0fcfb",null)),y=D.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"timer--start":t.isStart,"timer--rest":t.isStart&&t.time>1500}},[n("div",{staticClass:"timer__container"},[n("div",{staticClass:"timer__content"},[n("div",{staticClass:"timer__control"},[t.isStart?t._e():n("font-awesome-icon",{staticClass:"timer__control-icon timer__control-play",attrs:{icon:"play"},on:{click:function(e){return t.timerStart()}}}),t.isStart?n("font-awesome-icon",{staticClass:"timer__control-icon timer__control-pause",attrs:{icon:"pause"},on:{click:function(e){return t.timerPause()}}}):t._e()],1)])]),n("div",{staticClass:"timer__time"},[t._v(t._s(t.showTime)),t.isStart||1800==t.time?t._e():n("font-awesome-icon",{staticClass:"timer__control-step-backward",attrs:{icon:"undo-alt"},on:{click:function(e){return t.timerStepBackward()}}})],1)])},T=[],O={name:"Timer",data:function(){return{}},props:{time:{type:Number},isStart:{type:Boolean},start:{type:Function},pause:{type:Function},stepBackward:{type:Function}},computed:{showTime:function(){var t="";if(this.time>-1){var e=Math.floor(this.time/60),n=this.time%60;e<10&&(t+="0"),t+=e+":",n<10&&(t+="0"),t+=n}return t}},mounted:function(){},methods:{timerStart:function(){this.start()},timerPause:function(){this.pause()},timerStepBackward:function(){this.stepBackward()}}},S=O,j=(n("eda9"),Object(f["a"])(S,C,T,!1,null,"5b6b7f8a",null)),x=j.exports,E=[{order:1,is_done:!1,remaining_time:"30",user_Identity:"test",user_id:"1",user_name:"Tomato man",user_password:"",work_content:"手臂左右伸展",work_id:1,work_title:"熱身"},{order:1,is_done:!1,remaining_time:"30",user_Identity:"test",user_id:"1",user_name:"Tomato man",user_password:"",work_content:"手臂左右伸展",work_id:2,work_title:"熱身"},{order:1,is_done:!1,remaining_time:"30",user_Identity:"test",user_id:"1",user_name:"Tomato man",user_password:"",work_content:"手臂左右伸展",work_id:3,work_title:"熱身"},{order:1,is_done:!1,remaining_time:"30",user_Identity:"test",user_id:"1",user_name:"Tomato man",user_password:"",work_content:"手臂左右伸展",work_id:4,work_title:"熱身"}],P={name:"app",components:{CreateToDoItem:h,ToDoList:y,Timer:x},data:function(){return{list:[],nowItem:0,nowItemInfo:{},timer:null,isTimerStart:!1}},mounted:function(){this.login(),this.list=E},methods:{login:function(){var t=this;this.$getGapiClient().then(function(e){var n={spreadsheetId:"1fLEQHVFlidjjbqeKwuhE5_H0L7JnAtKRtGUyKLE5kPI",range:"A1:K100",valueRenderOption:"FORMATTED_VALUE",dateTimeRenderOption:"FORMATTED_STRING"};e.client.sheets.spreadsheets.values.get(n).then(function(e){t.list=[],e.result.values.map(function(n,i){if(i>0){var o={};n.map(function(t,n){var i=e.result.values[0][n];o[i]=t}),o.work_id=Number(o.work_id),o.remaining_time=Number(o.remaining_time),o.is_done="TRUE"===o.is_done,o.order=Number(o.order),o.sheetsOrder=i,t.list.push(o)}}),t.nowItem=t.list.filter(function(t){return!t.is_done})[0].work_id,t.nowItemInfo=t.list.filter(function(e){return e.work_id===t.nowItem})[0],console.log("list",t.list)}).catch(function(t){t.response?(console.log(t.config),this.list=E,this.nowItem=this.list[0].work_id,this.nowItemInfo=this.list[0],console.log(this.list)):console.log("Error",t.message)})})},changeNowItem:function(t){this.nowItem=t,this.nowItemInfo=this.list.filter(function(e){return e.work_id===t})[0]},restartToDoItem:function(){var t=this;this.list.filter(function(e){return e.work_id===t.nowItem})[0].is_done=!1},doneToDoItem:function(t){var e=this;this.list.filter(function(t){return t.work_id===e.nowItem})[0].is_done=!0},deleteToDoItem:function(t){var e=this;this.$getGapiClient().then(function(t){var n={spreadsheetId:"1fLEQHVFlidjjbqeKwuhE5_H0L7JnAtKRtGUyKLE5kPI",resource:{requests:[{deleteDimension:{range:{sheetId:0,dimension:"ROWS",startIndex:e.nowItemInfo.sheetsOrder,endIndex:e.nowItemInfo.sheetsOrder+1}}}]}};t.client.sheets.spreadsheets.batchUpdate(n).then(function(t){console.log("刪除第".concat(e.nowItemInfo.sheetsOrder,"列成功"))}).catch(function(t){console.log(t);var n=e.list.indexOf(e.nowItemInfo);console.log(n),e.list.splice(n,1)})})},timerStart:function(){var t=this;this.isTimerStart=!0,this.timer=setInterval(function(){t.nowItemInfo.remaining_time>0?t.nowItemInfo.remaining_time--:t.timerPause()},1e3)},timerPause:function(){this.isTimerStart=!1,clearInterval(this.timer)},timerStepBackward:function(){this.nowItemInfo.remaining_time=1800}}},A=P,N=(n("7faf"),Object(f["a"])(A,o,s,!1,null,null,null)),L=N.exports,M=n("ecee"),R=n("c074"),F=n("ad3d"),K=n("1685"),B=n.n(K);M["c"].add(R["b"],R["d"],R["e"],R["c"],R["h"],R["g"],R["a"],R["f"]),i["a"].component("font-awesome-icon",F["a"]),i["a"].config.productionTip=!1;var $={apiKey:"AIzaSyAY4THLuVYiFhrRAPZCseQDbCO3bxNJD9A",clientId:"624530488961-chtl120tenn14g9i8elqlj5m49888nau.apps.googleusercontent.com",discoveryDocs:["https://content.googleapis.com/discovery/v1/apis/sheets/v4/rest"],scope:"https://www.googleapis.com/auth/spreadsheets"};i["a"].use(B.a,$),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(L)}}).$mount("#app")},"7e81":function(t,e,n){"use strict";var i=n("0826"),o=n.n(i);o.a},"7faf":function(t,e,n){"use strict";var i=n("8fba"),o=n.n(i);o.a},"8fba":function(t,e,n){},a7b9:function(t,e,n){},bb6c:function(t,e,n){},bfa5:function(t,e,n){"use strict";var i=n("bb6c"),o=n.n(i);o.a},eda9:function(t,e,n){"use strict";var i=n("a7b9"),o=n.n(i);o.a}});
//# sourceMappingURL=app.5edb5fa0.js.map